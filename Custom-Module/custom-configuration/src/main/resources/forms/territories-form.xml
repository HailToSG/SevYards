<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<configuration xmlns="https://cm5.intertrust.ru/config" xmlns:act="https://cm5.intertrust.ru/config/action">

    <!-- Форма для доменного объекта "Территория" -->
    <form name="territories_form" domain-object-type="ter_territory" is-default="true">
        <markup>
            <header>
                <table>
                    <tr>
                        <td h-align="left">
                            <widget id="headerLabel"/>
                        </td>
                    </tr>
                </table>
            </header>

            <body display-single-tab="true">

                <tab>
                    <single-entry-group>
                        <tab-group>
                            <table>

                                <tr>
                                    <td h-align="right">
                                        <widget id="territoryNumberLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="territoryNumberValue"/>
                                    </td>
                                </tr>

                            </table>
                        </tab-group>
                    </single-entry-group>
                </tab>

            </body>

        </markup>
        <widget-config>

            <label id="headerLabel">
                <text>Территория</text>
            </label>

            <label id="territoryNumberLabel">
                <text>Номер территории</text>
            </label>
            <text-box id="territoryNumberValue">
                <field-path value="name"/>
            </text-box>


        </widget-config>

    </form>

    <form name="territories_yard_form" domain-object-type="ter_territory" is-default="false">
        <markup>
            <header>
                <table>
                    <tr>
                        <td h-align="left">
                            <widget id="headerLabel"/>
                        </td>
                    </tr>
                </table>
            </header>

            <body display-single-tab="true">

                <tab name="Территория">
                    <single-entry-group>
                        <tab-group>
                            <table>

                                <tr>
                                    <td h-align="right">
                                        <widget id="territoryNumberLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="territoryNumberValue"/>
                                    </td>
                                </tr>

                                <tr>
                                    <td h-align="right">
                                        <widget id="territoryTypeLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="territoryTypeValue"/>
                                    </td>
                                </tr>

                                <tr>
                                    <td h-align="right">
                                        <widget id="yardLinkedLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="yardLinkedValue"/>
                                    </td>
                                </tr>

                            </table>
                        </tab-group>

                    </single-entry-group>
                </tab>

            </body>

        </markup>
        <widget-config>

            <label id="headerLabel">
                <text>Территория</text>
            </label>

            <label id="territoryNumberLabel">
                <text>Номер территории</text>
            </label>
            <text-box id="territoryNumberValue">
                <field-path value="name"/>
            </text-box>

            <label id="territoryTypeLabel">
                <text>Тип территории</text>
            </label>

            <enumeration-box id="territoryTypeValue">
                <field-path value="territory_type"/>
               <mapping>
                   <map value="ter_yard" null-value="false" display-text="Дворовая территория"/>
               </mapping>
            </enumeration-box>

            <label id="yardLinkedLabel">
                <text>Дворовая территория</text>
            </label>

            <linked-domain-objects-table id="yardLinkedValue" delete-linked-objects="true" modal-width="600px" modal-height="400px">
                <field-path value="ter_yard^territory_id" on-root-delete="unlink"/>

                <linked-form name="ter_yard_form" inline="true"
                             domain-object-type="ter_yard"/>
                <summary-table>
                    <summary-table-column header="Общая площадь" widget-id="sumAreaValue">
                        <pattern value="{summary_area}"/>
                    </summary-table-column>
                    <summary-table-column header="Площадь объектов" widget-id="objAreaValue">
                        <pattern value="{objects_area}"/>
                    </summary-table-column>
                </summary-table>
                <single-choice value="true"/>
            </linked-domain-objects-table>


        </widget-config>

    </form>

    <form name="territories_public_form" domain-object-type="ter_territory" is-default="false">
        <markup>
            <header>
                <table>
                    <tr>
                        <td h-align="left">
                            <widget id="headerLabel"/>
                        </td>
                    </tr>
                </table>
            </header>

            <body display-single-tab="true">

                <tab name="Общественная территория">
                    <single-entry-group>
                        <tab-group>
                            <table>

                                <tr>
                                    <td h-align="right">
                                        <widget id="territoryNumberLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="territoryNumberValue"/>
                                    </td>
                                </tr>

                                <tr>
                                    <td h-align="right">
                                        <widget id="territoryTypeLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="territoryTypeValue"/>
                                    </td>
                                </tr>

                                <tr>
                                    <td h-align="right">
                                        <widget id="publicLinkedLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="publicLinkedValue"/>
                                    </td>
                                </tr>

                            </table>
                        </tab-group>

                    </single-entry-group>
                </tab>

            </body>

        </markup>
        <widget-config>

            <label id="headerLabel">
                <text>Территория</text>
            </label>

            <label id="territoryNumberLabel">
                <text>Номер территории</text>
            </label>
            <text-box id="territoryNumberValue">
                <field-path value="name"/>
            </text-box>

            <label id="territoryTypeLabel">
                <text>Тип территории</text>
            </label>

            <enumeration-box id="territoryTypeValue">
                <field-path value="territory_type"/>
                <mapping>
                    <map value="ter_public" null-value="false" display-text="Общественная территория"/>
                </mapping>
            </enumeration-box>

            <label id="publicLinkedLabel">
                <text>Общественная территория</text>
            </label>

            <linked-domain-objects-table id="publicLinkedValue" delete-linked-objects="true" modal-width="600px" modal-height="400px">
                <field-path value="ter_public^territory_id" on-root-delete="unlink"/>

                <linked-form name="ter_public_form" inline="true"
                             domain-object-type="ter_public"/>
                <summary-table>
                    <summary-table-column header="Вид" widget-id="kindOfTerritoryValue">
                        <pattern value="{kind_of_territory}"/>
                    </summary-table-column>
                    <summary-table-column header="Общая площадь" widget-id="summaryAreaValue">
                        <pattern value="{summary_area}"/>
                    </summary-table-column>
                    <summary-table-column header="Площадь объектов" widget-id="objectsAreaLabel">
                        <pattern value="{objects_area}"/>
                    </summary-table-column>
                </summary-table>
                <single-choice value="true"/>
            </linked-domain-objects-table>


        </widget-config>

    </form>


    <form name="territories_private_form" domain-object-type="ter_territory" is-default="false">
        <markup>
            <header>
                <table>
                    <tr>
                        <td h-align="left">
                            <widget id="headerLabel"/>
                        </td>
                    </tr>
                </table>
            </header>

            <body display-single-tab="true">

                <tab name="Территория">
                    <single-entry-group>
                        <tab-group>
                            <table>

                                <tr>
                                    <td h-align="right">
                                        <widget id="territoryNumberLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="territoryNumberValue"/>
                                    </td>
                                </tr>

                                <tr>
                                    <td h-align="right">
                                        <widget id="territoryTypeLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="territoryTypeValue"/>
                                    </td>
                                </tr>

                                <tr>
                                    <td h-align="right">
                                        <widget id="privateLinkedLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="privateLinkedValue"/>
                                    </td>
                                </tr>

                            </table>
                        </tab-group>

                    </single-entry-group>
                </tab>

            </body>

        </markup>
        <widget-config>

            <label id="headerLabel">
                <text>Территория</text>
            </label>

            <label id="territoryNumberLabel">
                <text>Номер территории</text>
            </label>
            <text-box id="territoryNumberValue">
                <field-path value="name"/>
            </text-box>

            <label id="territoryTypeLabel">
                <text>Тип территории</text>
            </label>

            <enumeration-box id="territoryTypeValue">
                <field-path value="territory_type"/>
                <mapping>
                    <map value="ter_private_housing" null-value="false" display-text="ИЖС-объект"/>
                </mapping>
            </enumeration-box>

            <label id="privateLinkedLabel">
                <text>ИЖС - объект</text>
            </label>

            <linked-domain-objects-table id="privateLinkedValue" delete-linked-objects="true" modal-width="600px" modal-height="400px">
                <field-path value="ter_private_housing^territory_id" on-root-delete="unlink"/>

                <linked-form name="ter_private_form" inline="true"
                             domain-object-type="ter_private_housing"/>
                <summary-table>
                    <summary-table-column header="Состояние фасада" widget-id="stateFacadeValue">
                        <pattern value="{facade_state}"/>
                    </summary-table-column>
                    <summary-table-column header="Состояние придомовой территории" widget-id="territoryStateValue">
                        <pattern value="{territory_state}"/>
                    </summary-table-column>
                    <summary-table-column header="Информация по подписании соглашения о благоустройстве" widget-id="contractInfoValue">
                        <pattern value="{contract_of_improvement}"/>
                    </summary-table-column>
                </summary-table>
                <single-choice value="true"/>
            </linked-domain-objects-table>


        </widget-config>

    </form>


    <form name="territories_ulip_form" domain-object-type="ter_territory" is-default="false">
        <markup>
            <header>
                <table>
                    <tr>
                        <td h-align="left">
                            <widget id="headerLabel"/>
                        </td>
                    </tr>
                </table>
            </header>

            <body display-single-tab="true">

                <tab name="Территория">
                    <single-entry-group>
                        <tab-group>
                            <table>

                                <tr>
                                    <td h-align="right">
                                        <widget id="territoryNumberLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="territoryNumberValue"/>
                                    </td>
                                </tr>

                                <tr>
                                    <td h-align="right">
                                        <widget id="territoryTypeLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="territoryTypeValue"/>
                                    </td>
                                </tr>

                                <tr>
                                    <td h-align="right">
                                        <widget id="ulipLinkedLabel"/>
                                    </td>

                                    <td h-align="left">
                                        <widget id="ulipLinkedValue"/>
                                    </td>
                                </tr>

                            </table>
                        </tab-group>

                    </single-entry-group>
                </tab>

            </body>

        </markup>
        <widget-config>

            <label id="headerLabel">
                <text>Территория</text>
            </label>

            <label id="territoryNumberLabel">
                <text>Номер территории</text>
            </label>
            <text-box id="territoryNumberValue">
                <field-path value="name"/>
            </text-box>

            <label id="territoryTypeLabel">
                <text>Тип территории</text>
            </label>

            <enumeration-box id="territoryTypeValue">
                <field-path value="territory_type"/>
                <mapping>
                    <map value="ter_ulip" null-value="false" display-text="Объект ЮЛ и ИП"/>
                </mapping>
            </enumeration-box>

            <label id="ulipLinkedLabel">
                <text>Объект ЮЛ и ИП</text>
            </label>

            <linked-domain-objects-table id="ulipLinkedValue" delete-linked-objects="true" modal-width="600px" modal-height="400px">
                <field-path value="ter_ulip^territory_id" on-root-delete="unlink"/>

                <linked-form name="ter_ulip_form" inline="true"
                             domain-object-type="ter_ulip"/>
                <summary-table>
                    <summary-table-column header="Состояние фасада" widget-id="stateFacadeValue">
                        <pattern value="{facade_state}"/>
                    </summary-table-column>
                    <summary-table-column header="Состояние прилегающей территории" widget-id="territoryStateValue">
                        <pattern value="{territory_state}"/>
                    </summary-table-column>
                    <summary-table-column header="Информация по подписании соглашения о благоустройстве" widget-id="contractInfoValue">
                        <pattern value="{contract_of_improvement}"/>
                    </summary-table-column>
                </summary-table>
                <single-choice value="true"/>
            </linked-domain-objects-table>


        </widget-config>

    </form>


</configuration>